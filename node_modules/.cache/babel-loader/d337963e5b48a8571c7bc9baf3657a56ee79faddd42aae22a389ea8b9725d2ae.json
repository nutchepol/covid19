{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Cases by Country\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  ref: \"canvas\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"canvas\", _hoisted_2, null, 512 /* NEED_PATCH */), _createCommentVNode(\" <Line :data=\\\"data1\\\" :options='options' /> \")]);\n}","map":{"version":3,"names":["_createElementVNode","ref","_createElementBlock","_hoisted_1","_hoisted_2","_createCommentVNode"],"sources":["/Users/kgreat/work/KU_project/Vue-covid/visualize-covid19/src/components/ChartCountry.vue"],"sourcesContent":["<template>\n    <div>\n        <h2>Cases by Country</h2>\n        <canvas ref=\"canvas\"></canvas>\n        <!-- <Line :data=\"data1\" :options='options' /> -->\n    </div>\n</template>\n\n<script>\nimport { Line } from 'vue-chartjs';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend\n} from 'chart.js'\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend\n)\nexport default {\n    props: ['data', 'selectedDate'],\n\n    mounted() {\n        this.chart = new ChartJS(this.$refs.canvas, {\n            type: 'line',\n            data: this.chartData,\n            options: this.chartOptions\n        });\n    },\n    beforeUnmount() {\n        this.chart.destroy();\n    },\n    data() {\n        return {\n            data1: {\n                labels: this.data.map(item => item.country),\n                datasets: [{\n                    label: 'Cases',\n                    backgroundColor: 'rgba(255, 99, 132, 0.2)',\n                    borderColor: 'rgb(255, 99, 132)',\n                    data: this.data.map(item => item.timeline.cases[this.selectedDate])\n                }, {\n                    label: 'Deaths',\n                    backgroundColor: 'rgba(54, 162, 235, 0.2)',\n                    borderColor: 'rgb(54, 162, 235)',\n                    data: this.data.map(item => item.timeline.deaths[this.selectedDate])\n                }, {\n                    label: 'Recovered',\n                    backgroundColor: 'rgba(255, 206, 86, 0.2)',\n                    borderColor: 'rgb(255, 206, 86)',\n                    data: this.data.map(item => item.timeline.recovered[this.selectedDate])\n                }]\n            },\n            options: {\n                responsive: true,\n                // maintainAspectRatio: false\n            }\n\n        }\n    },\n    watch: {\n        selectedDate: function () {\n            console.log(this.selectedDate, this.data1.datasets);\n            this.data1.labels = this.data.map(item => item.country),\n                this.data1.datasets = [{\n                    label: 'Cases',\n                    backgroundColor: 'rgba(255, 99, 132, 0.2)',\n                    borderColor: 'rgb(255, 99, 132)',\n                    data: this.data.map(item => item.timeline.cases[this.selectedDate])\n                }, {\n                    label: 'Deaths',\n                    backgroundColor: 'rgba(54, 162, 235, 0.2)',\n                    borderColor: 'rgb(54, 162, 235)',\n                    data: this.data.map(item => item.timeline.deaths[this.selectedDate])\n                }, {\n                    label: 'Recovered',\n                    backgroundColor: 'rgba(255, 206, 86, 0.2)',\n                    borderColor: 'rgb(255, 206, 86)',\n                    data: this.data.map(item => item.timeline.recovered[this.selectedDate])\n                }]\n\n\n        }\n    }\n}\n</script>\n"],"mappings":";gCAEQA,mBAAA,CAAyB,YAArB,kBAAgB;;EACZC,GAAG,EAAC;AAAQ;;uBAFxBC,mBAAA,CAIM,cAHFC,UAAyB,EACzBH,mBAAA,CAA8B,UAA9BI,UAA8B,+BAC9BC,mBAAA,iDAAkD,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}