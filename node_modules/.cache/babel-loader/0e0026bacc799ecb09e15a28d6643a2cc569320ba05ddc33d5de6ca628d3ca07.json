{"ast":null,"code":"import axios from 'axios';\nimport moment from 'moment';\nexport default {\n  name: 'DataDisplay',\n  data() {\n    return {\n      data: [],\n      loading: true,\n      selectedDate: '',\n      showDate: ''\n    };\n  },\n  mounted() {\n    this.getData();\n    this.showDate = moment(this.selectedDate, 'M/D/YY').format('YYYY-MM-DD');\n  },\n  methods: {\n    getData() {\n      axios.get('https://disease.sh/v3/covid-19/historical?lastdays=31').then(response => {\n        this.data = response.data;\n        this.selectedDate = Object.keys(this.data[0].timeline.cases)[Object.keys(this.data[0].timeline.cases).length - 1];\n        console.log(this.data, this.selectedDate);\n        this.loading = false;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    updateData() {\n      this.selectedDate = moment(this.showDate).format('M/D/YY');\n      console.log(this.selectedDate);\n      // this.selectedDate = Object.keys(this.data[0].timeline.cases)[Object.keys(this.data[0].timeline.cases).length - 1];\n    }\n  }\n};","map":{"version":3,"names":["axios","moment","name","data","loading","selectedDate","showDate","mounted","getData","format","methods","get","then","response","Object","keys","timeline","cases","length","console","log","catch","error","updateData"],"sources":["/Users/kgreat/work/KU_project/Vue-covid/visualize-covid19/src/components/DataDisplay.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>COVID-19 Cases by Country</h1>\n        <div v-if=\"loading\">Loading...</div>\n        <div v-else>\n            <div>\n                <label for=\"date\">Select date:</label>\n                <input type=\"date\" id=\"date\" v-model=\"showDate\" @change=\"updateData\" />\n                <p>Selected Date: {{ selectedDate }}</p>\n            </div>\n            {{ selectedDate }}\n            <table>\n                <thead>\n                    <tr>\n                        <th>Country</th>\n                        <th>Cases</th>\n                        <th>Deaths</th>\n                        <th>Recovered</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"item in data\" :key=\"item.country\">\n                        <td>{{ item.country }}</td>\n                        <td>{{ item.timeline.cases[selectedDate] }}</td>\n                        <td>{{ item.timeline.deaths[selectedDate] }}</td>\n                        <td>{{ item.timeline.recovered[selectedDate] }}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport moment from 'moment';\n\nexport default {\n    name: 'DataDisplay',\n    data() {\n        return {\n            data: [],\n            loading: true,\n            selectedDate: '',\n            showDate: '',\n        }\n    },\n    mounted() {\n        this.getData();\n        this.showDate = moment(this.selectedDate, 'M/D/YY').format('YYYY-MM-DD');\n    },\n    methods: {\n        getData() {\n            axios.get('https://disease.sh/v3/covid-19/historical?lastdays=31')\n                .then(response => {\n                    this.data = response.data;\n                    this.selectedDate = Object.keys(this.data[0].timeline.cases)[Object.keys(this.data[0].timeline.cases).length - 1];\n                    console.log(this.data, this.selectedDate)\n                    this.loading = false;\n                })\n                .catch(error => {\n                    console.log(error);\n                });\n        },\n        updateData() {\n            this.selectedDate = moment(this.showDate).format('M/D/YY');\n            console.log(this.selectedDate);\n            // this.selectedDate = Object.keys(this.data[0].timeline.cases)[Object.keys(this.data[0].timeline.cases).length - 1];\n        }\n    }\n}\n</script>\n\n\n"],"mappings":"AAkCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,QAAQ;AAE3B,eAAe;EACXC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHA,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,IAAI;MACbC,YAAY,EAAE,EAAE;MAChBC,QAAQ,EAAE;IACd;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,OAAO,EAAE;IACd,IAAI,CAACF,QAAO,GAAIL,MAAM,CAAC,IAAI,CAACI,YAAY,EAAE,QAAQ,CAAC,CAACI,MAAM,CAAC,YAAY,CAAC;EAC5E,CAAC;EACDC,OAAO,EAAE;IACLF,OAAOA,CAAA,EAAG;MACNR,KAAK,CAACW,GAAG,CAAC,uDAAuD,EAC5DC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACV,IAAG,GAAIU,QAAQ,CAACV,IAAI;QACzB,IAAI,CAACE,YAAW,GAAIS,MAAM,CAACC,IAAI,CAAC,IAAI,CAACZ,IAAI,CAAC,CAAC,CAAC,CAACa,QAAQ,CAACC,KAAK,CAAC,CAACH,MAAM,CAACC,IAAI,CAAC,IAAI,CAACZ,IAAI,CAAC,CAAC,CAAC,CAACa,QAAQ,CAACC,KAAK,CAAC,CAACC,MAAK,GAAI,CAAC,CAAC;QACjHC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACjB,IAAI,EAAE,IAAI,CAACE,YAAY;QACxC,IAAI,CAACD,OAAM,GAAI,KAAK;MACxB,CAAC,EACAiB,KAAK,CAACC,KAAI,IAAK;QACZH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACtB,CAAC,CAAC;IACV,CAAC;IACDC,UAAUA,CAAA,EAAG;MACT,IAAI,CAAClB,YAAW,GAAIJ,MAAM,CAAC,IAAI,CAACK,QAAQ,CAAC,CAACG,MAAM,CAAC,QAAQ,CAAC;MAC1DU,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,YAAY,CAAC;MAC9B;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}