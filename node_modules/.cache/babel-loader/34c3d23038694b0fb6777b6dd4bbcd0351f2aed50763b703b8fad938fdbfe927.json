{"ast":null,"code":"import { Chart } from 'vue-chartjs';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nexport default {\n  props: ['data', 'selectedDate'],\n  data() {\n    return {\n      forecastChart: null,\n      data1: {\n        type: 'line',\n        data: {\n          labels: this.data.map(item => item.country),\n          datasets: [{\n            label: 'Cases',\n            backgroundColor: 'rgba(255, 99, 132, 0.2)',\n            borderColor: 'rgb(255, 99, 132)',\n            data: this.data.map(item => item.timeline.cases[this.selectedDate])\n          }, {\n            label: 'Deaths',\n            backgroundColor: 'rgba(54, 162, 235, 0.2)',\n            borderColor: 'rgb(54, 162, 235)',\n            data: this.data.map(item => item.timeline.deaths[this.selectedDate])\n          }, {\n            label: 'Recovered',\n            backgroundColor: 'rgba(255, 206, 86, 0.2)',\n            borderColor: 'rgb(255, 206, 86)',\n            data: this.data.map(item => item.timeline.recovered[this.selectedDate])\n          }]\n        },\n        options: {\n          responsive: true\n        }\n      }\n    };\n  },\n  mounted() {\n    const ctx = document.getElementById('myChart');\n    this.forecastChart = new ChartJS(ctx, this.data1);\n  },\n  method: {\n    updateChart: function () {\n      let chartStatus = Chart.getChart(this.forecastChart); // key change\n      chartStatus.destroy(); // key change\n      this.animation = 0;\n      this.renderChart();\n    },\n    destroyChart: function () {\n      this.forecastChart.destroy();\n    }\n  },\n  watch: {\n    selectedDate: function () {\n      const ctx = document.getElementById('myChart');\n      this.forecastChart.clear();\n      let chartExists = ChartJS.getChart('myChart');\n      chartExists.destroy();\n      this.data1.labels = this.data.map(item => item.country), this.data1.datasets = [{\n        label: 'Cases',\n        backgroundColor: 'rgba(255, 99, 132, 0.2)',\n        borderColor: 'rgb(255, 99, 132)',\n        data: this.data.map(item => item.timeline.cases[this.selectedDate])\n      }, {\n        label: 'Deaths',\n        backgroundColor: 'rgba(54, 162, 235, 0.2)',\n        borderColor: 'rgb(54, 162, 235)',\n        data: this.data.map(item => item.timeline.deaths[this.selectedDate])\n      }, {\n        label: 'Recovered',\n        backgroundColor: 'rgba(255, 206, 86, 0.2)',\n        borderColor: 'rgb(255, 206, 86)',\n        data: this.data.map(item => item.timeline.recovered[this.selectedDate])\n      }];\n      this.forecastChart = new ChartJS(ctx, this.data1).getContext(\"2d\");\n      // this.forecastChart.update()\n\n      // this.forecastChart.destroy()\n      // this.forecastChart.update()                  // key change\n\n      // console.log('fsddfdsf', this.selectedDate, this.chxartStatus);                    // key change\n    }\n  }\n};","map":{"version":3,"names":["Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","register","props","data","forecastChart","data1","type","labels","map","item","country","datasets","label","backgroundColor","borderColor","timeline","cases","selectedDate","deaths","recovered","options","responsive","mounted","ctx","document","getElementById","method","updateChart","chartStatus","getChart","destroy","animation","renderChart","destroyChart","watch","clear","chartExists","getContext"],"sources":["/Users/kgreat/work/KU_project/Vue-covid/visualize-covid19/src/components/ChartCountry.vue"],"sourcesContent":["<template>\n    <div>\n        <h2>Cases by Country</h2>\n        <!-- <Line :data=\"data1\" :options='options' id='myChart' /> -->\n        <canvas id='myChart' ref='myDiv'></canvas>\n\n    </div>\n</template>\n\n<script>\nimport { Chart } from 'vue-chartjs';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend\n} from 'chart.js'\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend\n)\nexport default {\n    props: ['data', 'selectedDate',],\n\n\n    data() {\n        return {\n            forecastChart: null,\n            data1:\n            {\n                type: 'line',\n                data: {\n                    labels: this.data.map(item => item.country),\n                    datasets: [{\n                        label: 'Cases',\n                        backgroundColor: 'rgba(255, 99, 132, 0.2)',\n                        borderColor: 'rgb(255, 99, 132)',\n                        data: this.data.map(item => item.timeline.cases[this.selectedDate])\n                    }, {\n                        label: 'Deaths',\n                        backgroundColor: 'rgba(54, 162, 235, 0.2)',\n                        borderColor: 'rgb(54, 162, 235)',\n                        data: this.data.map(item => item.timeline.deaths[this.selectedDate])\n                    }, {\n                        label: 'Recovered',\n                        backgroundColor: 'rgba(255, 206, 86, 0.2)',\n                        borderColor: 'rgb(255, 206, 86)',\n                        data: this.data.map(item => item.timeline.recovered[this.selectedDate])\n                    }]\n                },\n                options: {\n                    responsive: true,\n                }\n            }\n\n        }\n    },\n    mounted() {\n        const ctx = document.getElementById('myChart');\n\n        this.forecastChart = new ChartJS(ctx, this.data1)\n    },\n    method: {\n        updateChart: function () {\n            let chartStatus = Chart.getChart(this.forecastChart)  // key change\n            chartStatus.destroy()                                 // key change\n            this.animation = 0\n            this.renderChart()\n        },\n        destroyChart: function () {\n            this.forecastChart.destroy();\n        }\n\n\n    },\n    watch: {\n        selectedDate: function () {\n            const ctx = document.getElementById('myChart');\n            this.forecastChart.clear();\n            let chartExists = ChartJS.getChart('myChart')\n            chartExists.destroy();\n\n            this.data1.labels = this.data.map(item => item.country),\n                this.data1.datasets = [{\n                    label: 'Cases',\n                    backgroundColor: 'rgba(255, 99, 132, 0.2)',\n                    borderColor: 'rgb(255, 99, 132)',\n                    data: this.data.map(item => item.timeline.cases[this.selectedDate])\n                }, {\n                    label: 'Deaths',\n                    backgroundColor: 'rgba(54, 162, 235, 0.2)',\n                    borderColor: 'rgb(54, 162, 235)',\n                    data: this.data.map(item => item.timeline.deaths[this.selectedDate])\n                }, {\n                    label: 'Recovered',\n                    backgroundColor: 'rgba(255, 206, 86, 0.2)',\n                    borderColor: 'rgb(255, 206, 86)',\n                    data: this.data.map(item => item.timeline.recovered[this.selectedDate])\n                }]\n            this.forecastChart = new ChartJS(ctx, this.data1).getContext(\"2d\")\n            // this.forecastChart.update()\n\n            // this.forecastChart.destroy()\n            // this.forecastChart.update()                  // key change\n\n            // console.log('fsddfdsf', this.selectedDate, this.chxartStatus);                    // key change\n\n\n\n        }\n    },\n\n}\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}