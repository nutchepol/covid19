{"ast":null,"code":"import { Line } from 'vue-chartjs';\nimport axios from 'axios';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nexport default {\n  props: ['selectedDate'],\n  components: {\n    Line\n  },\n  data() {\n    return {\n      data1: {\n        data: this.getData(),\n        labels: this.data.map(item => item.cases),\n        datasets: [{\n          label: 'Cases',\n          backgroundColor: 'rgba(255, 99, 132, 0.2)',\n          borderColor: 'rgb(255, 99, 132)',\n          data: this.data.map(item => item.cases[this.selectedDate])\n        }, {\n          label: 'Deaths',\n          backgroundColor: 'rgba(54, 162, 235, 0.2)',\n          borderColor: 'rgb(54, 162, 235)',\n          data: this.data.map(item => item.deaths[this.selectedDate])\n        }, {\n          label: 'Recovered',\n          backgroundColor: 'rgba(255, 206, 86, 0.2)',\n          borderColor: 'rgb(255, 206, 86)',\n          data: this.data.map(item => item.recovered[this.selectedDate])\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false\n      }\n    };\n  },\n  getData() {\n    axios.get('https://disease.sh/v3/covid-19/historical/all?lastdays=31').then(response => {\n      this.data = response.data;\n      this.selectedDate = Object.keys(this.data[0].timeline.cases)[Object.keys(this.data[0].timeline.cases).length - 1];\n      console.log(this.data, this.selectedDate);\n      this.loading = false;\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n};","map":{"version":3,"names":["Line","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","register","props","components","data","data1","getData","labels","map","item","cases","datasets","label","backgroundColor","borderColor","selectedDate","deaths","recovered","options","responsive","maintainAspectRatio","get","then","response","Object","keys","timeline","length","console","log","loading","catch","error"],"sources":["/Users/kgreat/work/KU_project/Vue-covid/visualize-covid19/src/components/ChartCountry.vue"],"sourcesContent":["<template>\n    <div>\n        <h2>Cases by Country</h2>\n        <Line :data=\"data1\" :options='options' />\n    </div>\n</template>\n\n<script>\nimport { Line } from 'vue-chartjs';\nimport axios from 'axios';\n\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend\n} from 'chart.js'\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend\n)\nexport default {\n    props: ['selectedDate'],\n    components: {\n        Line\n    },\n    data() {\n        return {\n            data1: {\n                data: this.getData(),\n                labels: this.data.map(item => item.cases),\n                datasets: [{\n                    label: 'Cases',\n                    backgroundColor: 'rgba(255, 99, 132, 0.2)',\n                    borderColor: 'rgb(255, 99, 132)',\n                    data: this.data.map(item => item.cases[this.selectedDate])\n                }, {\n                    label: 'Deaths',\n                    backgroundColor: 'rgba(54, 162, 235, 0.2)',\n                    borderColor: 'rgb(54, 162, 235)',\n                    data: this.data.map(item => item.deaths[this.selectedDate])\n                }, {\n                    label: 'Recovered',\n                    backgroundColor: 'rgba(255, 206, 86, 0.2)',\n                    borderColor: 'rgb(255, 206, 86)',\n                    data: this.data.map(item => item.recovered[this.selectedDate])\n                }]\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false\n            }\n\n        }\n    },\n    getData() {\n        axios.get('https://disease.sh/v3/covid-19/historical/all?lastdays=31')\n            .then(response => {\n                this.data = response.data;\n                this.selectedDate = Object.keys(this.data[0].timeline.cases)[Object.keys(this.data[0].timeline.cases).length - 1];\n                console.log(this.data, this.selectedDate)\n                this.loading = false;\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    },\n}\n</script>\n"],"mappings":"AAQA,SAASA,IAAG,QAAS,aAAa;AAClC,OAAOC,KAAI,MAAO,OAAO;AAEzB,SACIC,KAAI,IAAKC,OAAO,EAChBC,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,KAAK,EACLC,OAAO,EACPC,MAAK,QACF,UAAS;AAChBP,OAAO,CAACQ,QAAQ,CACZP,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,KAAK,EACLC,OAAO,EACPC,MAAK,CACT;AACA,eAAe;EACXE,KAAK,EAAE,CAAC,cAAc,CAAC;EACvBC,UAAU,EAAE;IACRb;EACJ,CAAC;EACDc,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE;QACHD,IAAI,EAAE,IAAI,CAACE,OAAO,EAAE;QACpBC,MAAM,EAAE,IAAI,CAACH,IAAI,CAACI,GAAG,CAACC,IAAG,IAAKA,IAAI,CAACC,KAAK,CAAC;QACzCC,QAAQ,EAAE,CAAC;UACPC,KAAK,EAAE,OAAO;UACdC,eAAe,EAAE,yBAAyB;UAC1CC,WAAW,EAAE,mBAAmB;UAChCV,IAAI,EAAE,IAAI,CAACA,IAAI,CAACI,GAAG,CAACC,IAAG,IAAKA,IAAI,CAACC,KAAK,CAAC,IAAI,CAACK,YAAY,CAAC;QAC7D,CAAC,EAAE;UACCH,KAAK,EAAE,QAAQ;UACfC,eAAe,EAAE,yBAAyB;UAC1CC,WAAW,EAAE,mBAAmB;UAChCV,IAAI,EAAE,IAAI,CAACA,IAAI,CAACI,GAAG,CAACC,IAAG,IAAKA,IAAI,CAACO,MAAM,CAAC,IAAI,CAACD,YAAY,CAAC;QAC9D,CAAC,EAAE;UACCH,KAAK,EAAE,WAAW;UAClBC,eAAe,EAAE,yBAAyB;UAC1CC,WAAW,EAAE,mBAAmB;UAChCV,IAAI,EAAE,IAAI,CAACA,IAAI,CAACI,GAAG,CAACC,IAAG,IAAKA,IAAI,CAACQ,SAAS,CAAC,IAAI,CAACF,YAAY,CAAC;QACjE,CAAC;MACL,CAAC;MACDG,OAAO,EAAE;QACLC,UAAU,EAAE,IAAI;QAChBC,mBAAmB,EAAE;MACzB;IAEJ;EACJ,CAAC;EACDd,OAAOA,CAAA,EAAG;IACNf,KAAK,CAAC8B,GAAG,CAAC,2DAA2D,EAChEC,IAAI,CAACC,QAAO,IAAK;MACd,IAAI,CAACnB,IAAG,GAAImB,QAAQ,CAACnB,IAAI;MACzB,IAAI,CAACW,YAAW,GAAIS,MAAM,CAACC,IAAI,CAAC,IAAI,CAACrB,IAAI,CAAC,CAAC,CAAC,CAACsB,QAAQ,CAAChB,KAAK,CAAC,CAACc,MAAM,CAACC,IAAI,CAAC,IAAI,CAACrB,IAAI,CAAC,CAAC,CAAC,CAACsB,QAAQ,CAAChB,KAAK,CAAC,CAACiB,MAAK,GAAI,CAAC,CAAC;MACjHC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACzB,IAAI,EAAE,IAAI,CAACW,YAAY;MACxC,IAAI,CAACe,OAAM,GAAI,KAAK;IACxB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;MACZJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;IACtB,CAAC,CAAC;EACV;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}